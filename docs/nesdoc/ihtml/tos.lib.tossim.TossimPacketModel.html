<html>
  <head>
    <LINK rel="stylesheet" href="nesdoc.css" type="text/css" media="screen"><title>Interface: tos.lib.tossim.TossimPacketModel</title>
  </head>
  <body>
    <h2>Interface: tos.lib.tossim.TossimPacketModel</h2>
    <b>interface TossimPacketModel</b><p>
 
    <p>
    <dl>
      <dt><b>Author:</b>
      <dd>
        Phil Levis
 
      </dd>
      <dd>
        David Gay
 Revision:  $Revision: 1.5 $

 Defines global error codes for error_t in TinyOS.

      </dd>
    </dl>
    <p><p><div id=heading>Commands</div><div id=funcsig><span id=funcnameshort>command error_t <a href="#cancel">cancel</a>(message_t *msg)
      </span><menu>
 Cancel a requested transmission.
      </menu>
    </div><div id=funcsig><span id=funcnameshort>command error_t <a href="#send">send</a>(int node, message_t *msg, uint8_t len)
      </span><menu> 
 Send a packet with a data payload of <tt>len</tt>.
      </menu>
    </div><p><div id=heading>Events</div><div id=funcsig><span id=funcnameshort>event void <a href="#receive">receive</a>(message_t *msg)
      </span><menu>
 Signal that a packet was received.
      </menu>
    </div><div id=funcsig><span id=funcnameshort>event void <a href="#sendDone">sendDone</a>(message_t *msg, error_t error)
      </span><menu> 
 Signaled in response to an accepted send request.
      </menu>
    </div><div id=funcsig><span id=funcnameshort>event bool <a href="#shouldAck">shouldAck</a>(message_t *msg)
      </span></div><p><div id=heading>Commands - Details</div>
    <a name="cancel"></a>
    <h4>cancel
    </h4>
    <span id=funcnameshort>command error_t <b>cancel</b>(message_t *msg)
    </span>
    <p>
    <menu>
      
 Cancel a requested transmission. Returns SUCCESS if the 
 transmission was cancelled properly (not sent in its
 entirety). Note that the component may not know
 if the send was successfully cancelled, if the radio is
 handling much of the logic; in this case, a component
 should be conservative and return an appropriate error code.
 A successful call to cancel must always result in a 
 sendFailed event, and never a sendSucceeded event.

    </menu>
    <hr>
    <a name="send"></a>
    <h4>send
    </h4>
    <span id=funcnameshort>command error_t <b>send</b>(int node, message_t *msg, uint8_t len)
    </span>
    <p>
    <menu>
       
 Send a packet with a data payload of <tt>len</tt>. To determine
 the maximum available size, use the Packet interface of the
 component providing Send. If send returns SUCCESS, then the
 component will signal the sendDone event in the future; if send
 returns an error, it will not signal sendDone.  Note that a
 component may accept a send request which it later finds it
 cannot satisfy; in this case, it will signal sendDone with an
 appropriate error code.

    </menu>
    <p><div id=heading>Events - Details</div>
    <a name="receive"></a>
    <h4>receive
    </h4>
    <span id=funcnameshort>event void <b>receive</b>(message_t *msg)
    </span>
    <p>
    <menu>
      
 Signal that a packet was received. Note that there is no buffer
 swap: a component using this interface must copy out the message
 if it needs it.

    </menu>
    <hr>
    <a name="sendDone"></a>
    <h4>sendDone
    </h4>
    <span id=funcnameshort>event void <b>sendDone</b>(message_t *msg, error_t error)
    </span>
    <p>
    <menu>
       
 Signaled in response to an accepted send request. <tt>msg</tt>
 is the sent buffer, and <tt>error</tt> indicates whether the
 send was succesful, and if not, the cause of the failure.

    </menu>
    <hr>
    <a name="shouldAck"></a>
    <h4>shouldAck
    </h4>
    <span id=funcnameshort>event bool <b>shouldAck</b>(message_t *msg)
    </span>
  </body>
</html>
